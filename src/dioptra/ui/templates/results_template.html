<!DOCTYPE html>
<html lang="en">
  <head>
    <title>Analysis Results - {{ filename }}</title>
    <link rel="stylesheet" href="styles.css">
  </head>
  <body>
    <h1>Dioptra Analysis Browser</h1>
    <div class="row">
      <div class="column" id="editor">{{ source }}</div>
      <div class="column" id="analysis">
        Display analyses for specific code regions by moving the cursor around the code.
      </div>
    </div>

    <script src="ace/src-min-noconflict/ace.js" type="text/javascript" charset="utf-8"></script>
    <script>
      var editor = ace.edit("editor");
      editor.setTheme("ace/theme/github");
      editor.setOption("maxLines", 50);
      editor.setOption("showPrintMargin", false);
      editor.setReadOnly(true);
      editor.session.setMode("ace/mode/python");
      editor.session.selection.on('changeCursor', function(e) {
          document.getElementById("analysis").innerHTML =
              "Column: "
              + editor.selection.getCursor().column
              + "<br>"
              + "Row: "
              + editor.selection.getCursor().row;
      });
    </script>
  </body>
</html>
